version: '1.0'
steps:
  collect_required_config: not-started
  collect_optional_config: not-started
  generate_env_file: not-started
  generate_nginx_config: not-started
  generate_secrets: not-started
  prompt_user_secrets: not-started
  finalize: not-started
  step_0_required_config: completed
  step_1_database: completed
  step_2_authentik: completed
  step_3_storage: completed
  step_4_email: completed
  step_5_user: completed
  step_6_telemetry: completed
  step_7_logging: completed
config:
  PUBLIC_URL: https://avatar.complete.com
  ENV_NAME: production
  ORGANIZATION_NAME: TestOrg
  SMTP_HOST: smtp.complete.com
  SMTP_PORT: 587
  SMTP_SENDER_EMAIL: noreply@complete.com
  SMTP_USERNAME: smtp-user
  SMTP_PASSWORD: smtp-pass
  DB_HOST: db.complete.com
  DB_NAME: avatar_complete
  DB_USER: avatar_user
  DB_PASSWORD: db-password-123
  STORAGE_BACKEND: seaweedfs
  STORAGE_ENDPOINT: s3.complete.com:8333
  STORAGE_BUCKET: avatar-data
  IS_SENTRY_ENABLED: 'true'
  AVATAR_HOME: /app/avatar
  AVATAR_API_VERSION: 2.20.1
  AVATAR_WEB_VERSION: 0.40.0
  AVATAR_PDFGENERATOR_VERSION: latest
  AVATAR_SEAWEEDFS_VERSION: 0.2.0
  AVATAR_AUTHENTIK_VERSION: 2025.10.2
  DB_ADMIN_USER: avatar_dba
  AUTHENTIK_DATABASE_NAME: authentik
  AUTHENTIK_DATABASE_USER: authentik
  MAIL_PROVIDER: aws
  USE_EMAIL_AUTHENTICATION: 'true'
  ADMIN_EMAILS: ''
  TELEMETRY_S3_ENDPOINT_URL: https://s3.fr-par.scw.cloud
  TELEMETRY_S3_REGION: fr-par
  USE_CONSOLE_LOGGING: 'false'
  LOG_LEVEL: INFO
step_data: {}
user_secrets_provided: {}

{{- if .Values.authentik.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: authentik-branding
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "avatar.labels" . | nindent 4 }}
binaryData:
  {{- /* Branding assets from branding/ dir, base64-encoded, mounted to authentik with subPath */ }}
  favicon.ico: {{ .Files.Get "branding/favicon.ico" | b64enc | quote }}
  logo.png: {{ .Files.Get "branding/logo.png" | b64enc | quote }}
  background.png: {{ .Files.Get "branding/background.png" | b64enc | quote }}
{{- end }}
